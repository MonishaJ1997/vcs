{% extends 'base.html' %}
{% block content %}

<section class="plan-section">
  <div class="container">

    <!-- ===== SECTION HEADER ===== -->
    <div class="text-center mb-5">
      <h2 class="fw-bold plan-title">Our Plans</h2>
      <p class="text-muted">Choose the plan that fits your career journey</p>
    </div>

    <div class="row justify-content-center g-4">

      {% for plan in plans %}
      <div class="col-lg-4 col-md-6 d-flex">
        <div class="card plan-card w-100 text-center p-4
          {% if plan.plan_type == 'free' %} free-card
          {% elif plan.plan_type == 'pro' %} pro-card
          {% elif plan.plan_type == 'pro_plus' %} proplus-card
          {% endif %}
        ">
          <!-- PLAN TITLE -->
          <h4 class="fw-bold">{{ plan.title }}</h4>

          <!-- PLAN PRICE -->
          <h3 class="price mt-3">₹{{ plan.price }}</h3>

          <!-- PLAN DESCRIPTION -->
          <p class="text-white">{{ plan.description }}</p>

          <!-- PLAN FEATURES -->
          <ul class="plan-features mt-4">
            {% for f in plan.features.all %}
            <li>{{ f.text }}</li>
            {% endfor %}
          </ul>

          <!-- PLAN BUTTON -->
          <div class="mt-auto">
            {% if plan.plan_type == 'free' %}
            <a href="#" class="btn plan-btn free-btn w-100 mt-3">Start Free</a>
            {% elif plan.plan_type == 'pro' %}
            <a href="{% url 'payment' 'pro' %}" class="btn plan-btn pro-btn w-100 mt-3">Get Pro</a>
            {% elif plan.plan_type == 'pro_plus' %}
            <a href="{% url 'payment' 'pro_plus' %}" class="btn plan-btn proplus-btn w-100 mt-3">Get Pro Plus</a>
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
  </div>
</section>

<!-- ===== SECTION CSS ===== -->
<style>
.plan-section{
    padding-top:120px;
    padding-bottom:60px;
    background:#f6f9fc;
    min-height:100vh;
}

.plan-title{
    font-size:34px;
    color:#1a2a44;
}

.plan-card{
    border-radius:16px;
    border:none;
    color:white;
    display:flex;
    flex-direction:column;
    transition:0.3s;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
}

.plan-card:hover{
    transform:translateY(-6px);
    box-shadow:0 18px 35px rgba(0,0,0,0.15);
}

/* PLAN BACKGROUNDS */
.free-card{ background:linear-gradient(135deg,#16a34a,#22c55e); }
.pro-card{ background:linear-gradient(135deg,#2563eb,#3b82f6); }
.proplus-card{ background:linear-gradient(135deg,#dc2626,#ef4444); }

.price{
    font-size:28px;
    font-weight:700;
    color:white;
}

.plan-features{
    list-style:none;
    padding:0;
    text-align:left;
}

.plan-features li{
    padding:8px 0;
    display:flex;
    gap:10px;
    align-items:center;
}

.plan-features li::before{
    content:"✓";
    width:20px;
    height:20px;
    background:white;
    color:#111;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:12px;
}

.plan-btn{
    border-radius:30px;
    font-weight:600;
    padding:12px;
    color:white;
}

/* BUTTON COLORS */
.free-btn{ background:#15803d; }
.free-btn:hover{ background:#166534; }

.pro-btn{ background:#1d4ed8; }
.pro-btn:hover{ background:#1e40af; }

.proplus-btn{ background:#b91c1c; }
.proplus-btn:hover{ background:#991b1b; }

</style>

{% endblock %}
